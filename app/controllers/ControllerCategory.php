<?phpclass ControllerCategory extends Controller {    function index(){		$this->data['categories'] = $this->model->getCategories();		$this->view->generatePage('Category.php', 'DefaultPage.php', $this->data);	}		function save(){		$categoriesArray = array('117', '118', '119', '120', '121', '125', '126', '127', '128', '133', '143', '145', '146', '149', '199');		$site = file_get_html('http://www.irr.ua/real-estate/');		foreach($site->find('ul.categories li a.myLink') as $k => $link){			if (in_array(preg_replace('/(http\:\/\/www.irr.ua\/)|(\/)/', '',$link->href), $categoriesArray)) {				$this->data['newcategories'][$k]['parent'] = $this->model->getParentId($link->parent()->parent()->prev_sibling()->prev_sibling()->plaintext);				$this->data['newcategories'][$k]['link'] = $link->href;				$this->data['newcategories'][$k]['name'] = $link->plaintext;			}		}		$site->clear();		unset($site);				$this->model->importCategories($this->data['newcategories']);		Tools::redirectLink($_SERVER['HTTP_REFERER']);	}		function view(){		$this->data['objects'] = $this->model->getObjects(Tools::getValue('value'));		$this->view->generatePage('CategoryView.php', 'DefaultPage.php', $this->data);	}	}