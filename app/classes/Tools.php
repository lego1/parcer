<?phpclass Tools {	public function ErrorPage404() {        $host = 'http://'.$_SERVER['HTTP_HOST'].'/';        header('HTTP/1.1 404 Not Found');        header("Status: 404 Not Found");        header('Location:'.$host.'404');    }		public function displayError($error) {        echo($error);    }		static public function getValue($key, $defaultValue = false) {	 	if (!isset($key) OR empty($key) OR !is_string($key))			return false;		$ret = (isset($_POST[$key]) ? $_POST[$key] : (isset($_GET[$key]) ? $_GET[$key] : $defaultValue));		if (is_string($ret) === true)			$ret = urldecode(preg_replace('/((\%5C0+)|(\%00+))/i', '', urlencode($ret)));		return !is_string($ret) ? $ret : stripslashes($ret);	}		static public function getLink($route, $action = null, $value = null, $data = null) {		$link = null;		if (_FRIENDLY_URL_ == 1)			$link .= '/'.$route.(($action !== null) ? '/'.$action : '').(($value !== null) ? '/'.$value : '');		else			$link .= '/index.php?route='.$route.(($action !== null) ? '&action='.$action : '').(($value !== null) ? '&value='.$value : '');		return $link;	}		static public function redirect($url, $baseUri = _BASE_URI_) {		if (isset($_SERVER['HTTP_REFERER']) && $url == $_SERVER['HTTP_REFERER'])			header('Location: '.$_SERVER['HTTP_REFERER']);		else			header('Location: '.$baseUri.$url);		exit;	}	static public function redirectLink($url) {		header('Location: '.$url);		exit;	}		public function pageName() {		$result = (Tools::getValue('route')) ? Tools::getValue('route') : 'main';		return $result;	}		public function getNormalizedFILES() {		$result = array();		foreach($_FILES as $fieldname => $fieldvalue)			foreach($fieldvalue as $paramname => $paramvalue)				foreach((array)$paramvalue as $index => $value)					$result[$fieldname][$index][$paramname] = $value;		return $result;	}		}