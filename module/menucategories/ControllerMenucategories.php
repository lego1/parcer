<?phpclass ControllerMenucategories extends Controller {    function index(){		$category = $this->loadModel('category');				$categories = $category->getCategoriesTree();		if (count($categories) > 0) {			$html = '<ul class="categories-top parent">';			$html .= '<li><a href="/">Все</a></li>';			foreach ($categories as $k=>$category) {				$html .= '</li>';				$html .= '<li>';				$html .= '<a '.((isset($category['child_count'])) ? '' : 'href="'.Tools::getLink('category','view',$category['id_category']).'"').'>'.$category['name'].' '.((isset($category['objects_count'])) ? '('.$category['objects_count'].')' : '').'</a>';				if (!isset($category['child_count']) && (!isset($categories[$k+1]) || (isset($categories[$k+1]['child_count']) && $categories[$k+1]['child_count'] > 0)))					$html .= '</ul>';				if (isset($category['child_count']) && $category['child_count'] > 0) 					$html .= '<ul class="child">';			}			$html .= '</ul>';		}		$this->data['categories'] = $html;		return $this->view->generateModule('menucategories', $this->data);	}}